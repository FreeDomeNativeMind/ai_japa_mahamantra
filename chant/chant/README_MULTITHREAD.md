# Chant Multithread System üöÄ

–°–∏—Å—Ç–µ–º–∞ —Å 3 —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π `mozgach:latest`, —Ä–∞–±–æ—Ç–∞—é—â–∏–º–∏ –≤ 3 –ø–æ—Ç–æ–∫–∞—Ö —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —á–∞–Ω—Ç–∏–Ω–≥–æ–º –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **3 –ø–æ—Ç–æ–∫–∞**: –ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –º–æ–¥–µ–ª–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —á–∞–Ω—Ç–∏–Ω–≥**: –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –±–µ–∑–¥–µ–π—Å—Ç–≤—É–µ—Ç –±–æ–ª–µ–µ 1 —Å–µ–∫—É–Ω–¥—ã, –≤–∫–ª—é—á–∞–µ—Ç—Å—è —á–∞–Ω—Ç–∏–Ω–≥
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤**: –ó–∞–ø—Ä–æ—Å—ã –æ—Ç –∫—É—Ä—Å–æ—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å**: –ß–∞–Ω—Ç–∏–Ω–≥ –Ω–∞ —Ä—É—Å—Å–∫–æ–º, —Ç–∞–π—Å–∫–æ–º –∏ —è–∑—ã–∫–µ —Ö–∞—Ä–∫–æ–Ω–µ–Ω–æ–≤
- **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏**: –ó–∞–ø—Ä–æ—Å—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏

## üåç –Ø–∑—ã–∫–∏ —á–∞–Ω—Ç–∏–Ω–≥–∞

### 1. –†—É—Å—Å–∫–∏–π (russianscsm)
```
–•–∞—Ä–µ–π –ö—Ä–∏—à–Ω–∞ –•–∞—Ä–µ–π –ö—Ä–∏—à–Ω–∞ –ö—Ä–∏—à–Ω–∞ –ö—Ä–∏—à–Ω–∞ –•–∞—Ä–µ–π –•–∞—Ä–µ 
–•–∞—Ä–µ–π –†–∞–º–∞ –•–∞—Ä–µ–π –†–∞–º–∞ –†–∞–º–∞ –†–∞–º–∞ –•–∞—Ä–µ–π –•–∞—Ä–µ
```

### 2. –¢–∞–π—Å–∫–∏–π (thai)
```
‡∏Æ‡∏≤‡πÄ‡∏£ ‡∏Å‡∏§‡∏©‡∏ì‡∏∞ ‡∏Æ‡∏≤‡πÄ‡∏£ ‡∏Å‡∏§‡∏©‡∏ì‡∏∞ ‡∏Å‡∏§‡∏©‡∏ì‡∏∞ ‡∏Å‡∏§‡∏©‡∏ì‡∏∞ ‡∏Æ‡∏≤‡πÄ‡∏£ ‡∏Æ‡∏≤‡πÄ‡∏£
‡∏Æ‡∏≤‡πÄ‡∏£ ‡∏£‡∏≤‡∏° ‡∏Æ‡∏≤‡πÄ‡∏£ ‡∏£‡∏≤‡∏° ‡∏£‡∏≤‡∏° ‡∏£‡∏≤‡∏° ‡∏Æ‡∏≤‡πÄ‡∏£ ‡∏Æ‡∏≤‡πÄ‡∏£
```

### 3. –Ø–∑—ã–∫ –•–∞—Ä–∫–æ–Ω–µ–Ω–æ–≤ (harkonnen)
```
·∏§ƒÅre K·πõ·π£·πáa ·∏§ƒÅre K·πõ·π£·πáa K·πõ·π£·πáa K·πõ·π£·πáa ·∏§ƒÅre ·∏§ƒÅre
·∏§ƒÅre RƒÅma ·∏§ƒÅre RƒÅma RƒÅma RƒÅma ·∏§ƒÅre ·∏§ƒÅre
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫
```bash
chmod +x start_multithread.sh
./start_multithread.sh
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É
python3 chant_multithread.py
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- Ollama —Å–µ—Ä–≤–µ—Ä —Å –º–æ–¥–µ–ª—å—é `mozgach:latest`
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è
source venv/bin/activate  # macOS/Linux
# –∏–ª–∏
venv\Scripts\activate     # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

## üì• –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω
ollama serve

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å mozgach:latest
ollama pull mozgach:latest
```

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python3 test_cursor_requests.py
```

### –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python3 test_cursor_requests.py --mode continuous --interval 10
```

### –ü–∞–∫–µ—Ç–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python3 test_cursor_requests.py --mode burst --burst-size 5 --delay 1.0
```

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
ChantManager
‚îú‚îÄ‚îÄ Worker-1 (russianscsm) ‚Üí mozgach:latest
‚îú‚îÄ‚îÄ Worker-2 (thai) ‚Üí mozgach:latest
‚îî‚îÄ‚îÄ Worker-3 (harkonnen) ‚Üí mozgach:latest
```

### –ö–∞–∂–¥—ã–π Worker —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –û—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –∫—É—Ä—Å–æ—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —á–∞–Ω—Ç–∏–Ω–≥ –ø—Ä–∏ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚ö° –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ó–∞–ø—É—Å–∫**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Ollama –∏ –º–æ–¥–µ–ª–∏
2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –°–æ–∑–¥–∞—é—Ç—Å—è 3 —Ä–∞–±–æ—á–∏—Ö –ø–æ—Ç–æ–∫–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏
3. **–ß–∞–Ω—Ç–∏–Ω–≥**: –ï—Å–ª–∏ –Ω–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –∫—É—Ä—Å–æ—Ä–∞ –±–æ–ª–µ–µ 1 —Å–µ–∫—É–Ω–¥—ã
4. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫—É—Ä—Å–æ—Ä–∞ —á–∞–Ω—Ç–∏–Ω–≥ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞**: –ó–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫ –º–æ–¥–µ–ª–∏
6. **–í–æ–∑–≤—Ä–∞—Ç**: –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ —á–∞–Ω—Ç–∏–Ω–≥ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **–§–∞–π–ª**: `chant_multithread.log`
- **–ö–æ–Ω—Å–æ–ª—å**: –í—ã–≤–æ–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–§–æ—Ä–º–∞—Ç**: –í—Ä–µ–º—è, –ø–æ—Ç–æ–∫, —É—Ä–æ–≤–µ–Ω—å, —Å–æ–æ–±—â–µ–Ω–∏–µ

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã

- **Ctrl+C**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤
- **SIGTERM**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞**: –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ –ø–æ—Ç–æ–∫–æ–≤

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥:
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —á–∞–Ω—Ç–∏–Ω–≥–∞
- –†–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama
curl http://localhost:11434/api/tags

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏
curl http://localhost:11434/api/tags | grep mozgach
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Ollama –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
ollama serve

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
ollama list
```

### –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏
ollama pull mozgach:latest

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞
ollama list
```

### –û—à–∏–±–∫–∏ Python
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
python3 --version

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **3 –ø–æ—Ç–æ–∫–∞**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **100ms –ø–∞—É–∑–∞**: –ú–µ–∂–¥—É —á–∞–Ω—Ç–∏–Ω–≥–æ–º –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å**: –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫—É—Ä—Å–æ—Ä–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É

## üîÆ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–ª–æ–≤–∞—Ä—å `mantras` –≤ –∫–ª–∞—Å—Å–µ `ChantWorker`:

```python
self.mantras = {
    "russianscsm": "–•–∞—Ä–µ–π –ö—Ä–∏—à–Ω–∞...",
    "thai": "‡∏Æ‡∏≤‡πÄ‡∏£ ‡∏Å‡∏§‡∏©‡∏ì‡∏∞...",
    "harkonnen": "·∏§ƒÅre K·πõ·π£·πáa...",
    "new_language": "New mantra text..."
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–ø–∏—Å–æ–∫ `languages` –≤ –∫–ª–∞—Å—Å–µ `ChantManager`:

```python
self.languages = ["russianscsm", "thai", "harkonnen", "new_language"]
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –º–µ—Ç–æ–¥–µ `_send_to_model`:

```python
"options": {
    "temperature": 0.7,    # –¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ (0.0-1.0)
    "top_p": 0.9,         # –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ
    "max_tokens": 100      # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
}
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –¥—É—Ö–æ–≤–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫ –∏ –æ–±—É—á–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `chant_multithread.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –º–æ–¥–µ–ª–∏ `mozgach:latest`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É

---

**üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —á–∞–Ω—Ç–∏–Ω–≥–æ–º!**

